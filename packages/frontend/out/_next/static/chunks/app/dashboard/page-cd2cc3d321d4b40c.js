(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6625:function(e,t,a){Promise.resolve().then(a.bind(a,8394)),Promise.resolve().then(a.bind(a,4244)),Promise.resolve().then(a.bind(a,7490))},8394:function(e,t,a){"use strict";a.d(t,{FarmGrid:function(){return T}});var s=a(7573),n=a(7653),r=a(6798),l=a(6273),i=a(8828),c=a(9289),o=a(9369);let d=(0,c.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function u(e){let{className:t,variant:a,asChild:n=!1,...r}=e,l=n?i.g7:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,o.cn)(d({variant:a}),t),...r})}var m=a(1279),x=a(2467),f=a(148),h=a(3472),g=a(2447),p=a(5696);function v(e){let{...t}=e;return(0,s.jsx)(g.fC,{"data-slot":"dialog",...t})}function j(e){let{...t}=e;return(0,s.jsx)(g.h_,{"data-slot":"dialog-portal",...t})}function b(e){let{className:t,...a}=e;return(0,s.jsx)(g.aV,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function y(e){let{className:t,children:a,showCloseButton:n=!0,...r}=e;return(0,s.jsxs)(j,{"data-slot":"dialog-portal",children:[(0,s.jsx)(b,{}),(0,s.jsxs)(g.VY,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[a,n&&(0,s.jsxs)(g.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(p.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function w(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function N(e){let{className:t,...a}=e;return(0,s.jsx)(g.Dx,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...a})}function k(e){let{className:t,...a}=e;return(0,s.jsx)(g.dk,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}var S=a(3769),C=a(9696),z=a(7051),I=a(7791),Z=a(9893),F=a(8932),P=a(3246);function E(e){let{farm:t,isOpen:a,onClose:r,onSuccess:i}=e,[c,o]=(0,n.useState)(""),[d,u]=(0,n.useState)(!1),[x,f]=(0,n.useState)(null),{purchaseTokens:h,isLoading:g}=(0,z.c)(),{isConnected:p}=(0,I.O)(),j=t?parseFloat(c||"0")*t.tokenPrice:0,b=(null==t?void 0:t.tokensAvailable)||0,E=async()=>{if(!t||!c||!p)return;let e=parseInt(c);if(!(e<=0)&&!(e>b)){u(!0),f(null);try{let a=await h(t.id,e,j);f({success:!0,transactionId:a.transactionId}),setTimeout(()=>{i(),r()},2e3)}catch(e){f({success:!1,error:e instanceof Error?e.message:"Transaction failed"})}finally{u(!1)}}},T=()=>{o(""),f(null),u(!1)},_=()=>{T(),r()};return t?(0,s.jsx)(v,{open:a,onOpenChange:_,children:(0,s.jsxs)(y,{className:"sm:max-w-md",children:[(0,s.jsxs)(w,{children:[(0,s.jsxs)(N,{children:["Invest in ",t.name]}),(0,s.jsx)(k,{children:"Purchase farm tokens to earn returns from harvest proceeds"})]}),x?(0,s.jsx)("div",{className:"space-y-4",children:x.success?(0,s.jsxs)(P.bZ,{className:"border-green-200 bg-green-50",children:[(0,s.jsx)(Z.Z,{className:"h-4 w-4 text-green-600"}),(0,s.jsxs)(P.X,{className:"text-green-800",children:["Transaction successful! Your tokens will be available shortly.",x.transactionId&&(0,s.jsxs)("div",{className:"mt-2 text-xs font-mono",children:["TX: ",x.transactionId]})]})]}):(0,s.jsxs)(P.bZ,{variant:"destructive",children:[(0,s.jsx)(F.Z,{className:"h-4 w-4"}),(0,s.jsx)(P.X,{children:x.error})]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[!p&&(0,s.jsxs)(P.bZ,{variant:"destructive",children:[(0,s.jsx)(F.Z,{className:"h-4 w-4"}),(0,s.jsx)(P.X,{children:"Please connect your wallet to continue"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Token Price"}),(0,s.jsxs)("p",{className:"font-semibold",children:["$",t.tokenPrice]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Available Tokens"}),(0,s.jsx)("p",{className:"font-semibold",children:t.tokensAvailable.toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Expected Return"}),(0,s.jsx)("p",{className:"font-semibold text-green-600",children:t.expectedReturn})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Total Cost"}),(0,s.jsxs)("p",{className:"font-semibold",children:["$",j.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(C._,{htmlFor:"tokenAmount",children:"Number of Tokens"}),(0,s.jsx)(S.I,{id:"tokenAmount",type:"number",placeholder:"Enter amount",value:c,onChange:e=>o(e.target.value),min:"1",max:b,disabled:d||!p}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Maximum: ",b.toLocaleString()," tokens"]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(l.z,{variant:"outline",onClick:_,disabled:d,className:"flex-1",children:"Cancel"}),(0,s.jsx)(l.z,{onClick:E,disabled:!c||0>=parseInt(c)||parseInt(c)>b||d||!p||g,className:"flex-1 bg-green-600 hover:bg-green-700",children:d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Purchase ".concat(c||0," Tokens")})]})]})]})}):null}function T(){let[e,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)([]),[d,g]=(0,n.useState)(!0),{getAllFarms:p,getFarmDetails:v,isLoading:j}=(0,z.c)();(0,n.useEffect)(()=>{(async()=>{try{let e=await p(),t=await Promise.all(e.map(async e=>{let t=await v(e);return{id:e,name:t.name,location:"Kenya",crop:"Maize",totalValue:"$".concat((t.totalSupply*t.tokenPrice/100).toLocaleString()),tokensAvailable:t.tokensAvailable,tokenPrice:t.tokenPrice/100,expectedReturn:"".concat(t.expectedReturn,"%"),harvestDate:new Date(1e3*t.harvestDate).toLocaleDateString(),image:"/kenyan-maize-farm.png"}}));o(t)}catch(e){console.error("Failed to load farms:",e),o([{id:1,name:"Sunrise Maize Farm",location:"Kenya",crop:"Maize",totalValue:"$50,000",tokensAvailable:2500,tokenPrice:20,expectedReturn:"12-15%",harvestDate:"Dec 2024",image:"/kenyan-maize-farm.png"}])}finally{g(!1)}})()},[p,v]);let b=e=>{t(e),i(!0)};return d?(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)(m.Z,{className:"h-8 w-8 animate-spin text-green-600"}),(0,s.jsx)("span",{className:"ml-2",children:"Loading farms..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Farms"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(u,{variant:"outline",children:"All Crops"}),(0,s.jsx)(u,{variant:"outline",children:"All Countries"})]})]}),(0,s.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2",children:c.map(e=>(0,s.jsxs)(r.Zb,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[(0,s.jsx)("div",{className:"aspect-video bg-gray-100",children:(0,s.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"h-full w-full object-cover"})}),(0,s.jsx)(r.Ol,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.ll,{className:"text-lg",children:e.name}),(0,s.jsxs)(r.SZ,{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)(x.Z,{className:"h-3 w-3"}),e.location," â€¢ ",e.crop]})]}),(0,s.jsx)(u,{className:"bg-green-100 text-green-800",children:e.expectedReturn})]})}),(0,s.jsxs)(r.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Total Value"}),(0,s.jsx)("p",{className:"font-semibold",children:e.totalValue})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Tokens Available"}),(0,s.jsx)("p",{className:"font-semibold",children:e.tokensAvailable.toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Token Price"}),(0,s.jsxs)("p",{className:"font-semibold",children:["$",e.tokenPrice]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Min Investment"}),(0,s.jsxs)("p",{className:"font-semibold",children:["$",e.tokenPrice]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4"}),"Harvest: ",e.harvestDate]}),(0,s.jsxs)(l.z,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>b(e),disabled:0===e.tokensAvailable,children:[(0,s.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),0===e.tokensAvailable?"Sold Out":"Invest Now"]})]})]},e.id))})]}),(0,s.jsx)(E,{farm:e,isOpen:a,onClose:()=>i(!1),onSuccess:()=>{g(!0)}})]})}},4244:function(e,t,a){"use strict";a.d(t,{ProductionWalletIntegration:function(){return o}});var s=a(7573),n=a(6273),r=a(6798),l=a(3246),i=a(2062),c=a(1124);function o(){return(0,s.jsxs)(r.Zb,{className:"max-w-2xl mx-auto mt-8",children:[(0,s.jsxs)(r.Ol,{children:[(0,s.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5 text-blue-600"}),"Production Wallet Integration"]}),(0,s.jsx)(r.SZ,{children:"For production deployment, integrate with actual Hedera wallet providers"})]}),(0,s.jsxs)(r.aY,{className:"space-y-4",children:[(0,s.jsxs)(l.bZ,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),(0,s.jsx)(l.X,{children:"The current implementation uses mock wallet connections for development. For production, integrate with one of these Hedera wallet solutions:"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:"HashPack Wallet"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Most popular Hedera wallet extension"})]}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsxs)("a",{href:"https://www.hashpack.app/",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"Visit"]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:"Blade Wallet"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Multi-chain wallet with Hedera support"})]}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsxs)("a",{href:"https://bladewallet.io/",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"Visit"]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:"Kabila Wallet"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Hedera-native wallet solution"})]}),(0,s.jsx)(n.z,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsxs)("a",{href:"https://kabila.app/",target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"Visit"]})})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Integration Steps:"}),(0,s.jsxs)("ol",{className:"text-sm space-y-1 list-decimal list-inside text-gray-600",children:[(0,s.jsx)("li",{children:"Choose a wallet provider from above"}),(0,s.jsx)("li",{children:"Install their SDK/integration library"}),(0,s.jsx)("li",{children:"Replace the mock wallet service with actual wallet calls"}),(0,s.jsx)("li",{children:"Update the Hedera client to use real SDK functions"}),(0,s.jsx)("li",{children:"Test with your deployed smart contracts"})]})]})]})]})}},3246:function(e,t,a){"use strict";a.d(t,{X:function(){return c},bZ:function(){return i}});var s=a(7573);a(7653);var n=a(9289),r=a(9369);let l=(0,n.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...n}=e;return(0,s.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(l({variant:a}),t),...n})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...a})}},6273:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var s=a(7573),n=a(7653),r=a(9289),l=a(9369);let i=(0,r.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:a,variant:n,size:r,asChild:c=!1,...o}=e;return(0,s.jsx)("button",{className:(0,l.cn)(i({variant:n,size:r,className:a})),ref:t,...o})});c.displayName="Button"},6798:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return r},aY:function(){return o},ll:function(){return i}});var s=a(7573);a(7653);var n=a(9369);function r(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...a})}},3769:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var s=a(7573),n=a(7653),r=a(9369);let l=n.forwardRef((e,t)=>{let{className:a,type:n,...l}=e;return(0,s.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"},9696:function(e,t,a){"use strict";a.d(t,{_:function(){return l}});var s=a(7573);a(7653);var n=a(1001),r=a(9369);function l(e){let{className:t,...a}=e;return(0,s.jsx)(n.f,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},7490:function(e,t,a){"use strict";a.d(t,{WalletConnect:function(){return o}});var s=a(7573),n=a(6273),r=a(8932),l=a(6082),i=a(7791),c=a(3246);function o(){let{isConnected:e,accountId:t,network:a,isLoading:o,error:d,connectWallet:u,disconnectWallet:m}=(0,i.O)();return d?(0,s.jsxs)(c.bZ,{variant:"destructive",className:"max-w-md",children:[(0,s.jsx)(r.Z,{className:"h-4 w-4"}),(0,s.jsx)(c.X,{children:d})]}):e&&t?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsxs)("p",{className:"font-medium",children:["Connected to ",a]}),(0,s.jsx)("p",{className:"text-gray-500",children:t})]}),(0,s.jsx)(n.z,{variant:"outline",onClick:m,disabled:o,children:o?"Disconnecting...":"Disconnect"})]}):(0,s.jsxs)(n.z,{onClick:u,className:"bg-green-600 hover:bg-green-700",disabled:o,children:[(0,s.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),o?"Connecting...":"Connect Wallet"]})}},7051:function(e,t,a){"use strict";a.d(t,{c:function(){return n}});var s=a(7653);function n(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[r,l]=(0,s.useState)(null),i="https://farmshare-africa-production.up.railway.app",c=async()=>{n(!0),l(null);try{let e=await fetch("".concat(i,"/api/farms"));if(!e.ok)throw Error("Failed to fetch farms: ".concat(e.statusText));let a=await e.json();t(a)}catch(e){l(e instanceof Error?e.message:"Failed to fetch farms"),console.error("Error fetching farms:",e)}finally{n(!1)}},o=async()=>{n(!0),l(null);try{let e=await fetch("".concat(i,"/api/farms"));if(!e.ok)throw Error("Failed to fetch farms: ".concat(e.statusText));let a=await e.json();return t(a),a}catch(e){return l(e instanceof Error?e.message:"Failed to fetch farms"),console.error("Error fetching farms:",e),[]}finally{n(!1)}},d=async e=>{n(!0),l(null);try{let t=await fetch("".concat(i,"/api/farms/").concat(e));if(!t.ok)throw Error("Failed to fetch farm details: ".concat(t.statusText));return await t.json()}catch(e){return l(e instanceof Error?e.message:"Failed to fetch farm details"),console.error("Error fetching farm details:",e),null}finally{n(!1)}},u=async(e,t)=>{n(!0),l(null);try{let a=await fetch("".concat(i,"/api/invest"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({farmId:e,shares:t,amount:100*t})});if(!a.ok)throw Error("Investment failed: ".concat(a.statusText));let s=await a.json();return{success:!0,transactionId:s.transactionId}}catch(e){return l(e instanceof Error?e.message:"Investment failed"),console.error("Error investing in farm:",e),{success:!1}}finally{n(!1)}};return(0,s.useEffect)(()=>{c()},[]),{farms:e,loading:a,isLoading:a,error:r,fetchFarms:c,getAllFarms:o,getFarmDetails:d,investInFarm:u}}},7791:function(e,t,a){"use strict";a.d(t,{O:function(){return l}});var s=a(7653);class n{async initialize(){try{let e=localStorage.getItem("wallet-state");return e&&(this.walletState=JSON.parse(e)),!0}catch(e){return console.error("Failed to initialize wallet service:",e),!1}}async connectWallet(){try{return this.walletState={isConnected:!0,accountId:"0.0.123456",network:"testnet"},localStorage.setItem("wallet-state",JSON.stringify(this.walletState)),this.walletState}catch(e){return console.error("Failed to connect wallet:",e),{isConnected:!1,accountId:null,network:null}}}async disconnectWallet(){try{return this.walletState={isConnected:!1,accountId:null,network:null},localStorage.removeItem("wallet-state"),this.walletState}catch(e){throw console.error("Failed to disconnect wallet:",e),e}}async signTransaction(e){try{return{success:!0,transactionId:"0.0.".concat(Date.now(),"@").concat(Math.floor(Date.now()/1e3),".").concat(Math.floor(1e9*Math.random()))}}catch(e){throw console.error("Failed to sign transaction:",e),e}}getConnectionState(){return this.walletState}constructor(){this.walletState={isConnected:!1,accountId:null,network:null}}}let r=new n;function l(){let[e,t]=(0,s.useState)({isConnected:!1,accountId:null,network:null}),[a,n]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{await r.initialize();let e=r.getConnectionState();t(e)}catch(e){i("Failed to initialize wallet service"),console.error(e)}})()},[]);let c=(0,s.useCallback)(async()=>{n(!0),i(null);try{let e=await r.connectWallet();t(e),e.isConnected||i("Failed to connect wallet")}catch(e){i("Failed to connect wallet"),console.error(e)}finally{n(!1)}},[]),o=(0,s.useCallback)(async()=>{n(!0),i(null);try{let e=await r.disconnectWallet();t(e)}catch(e){i("Failed to disconnect wallet"),console.error(e)}finally{n(!1)}},[]);return{...e,isLoading:a,error:l,connectWallet:c,disconnectWallet:o}}},9369:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(607),n=a(5579);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[897,137,373,293,528,744],function(){return e(e.s=6625)}),_N_E=e.O()}]);